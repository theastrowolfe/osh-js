<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>Developer's Guide - OpenSensorHub Toolkit</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Developer's Guide";
    var mkdocs_page_input_path = "dev/dev-guide.md";
    var mkdocs_page_url = "/dev/dev-guide/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 

  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-36723568-3', 'opensensorhub.org');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <img src="../../img/logo-light.png"/>
        <a href="../.." class="icon"> OpenSensorHub Toolkit</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Introduction</a>
        
    </li>
<li>
          
            <li>
    
        <ul class="subnav">
	    <li><span>Getting started</span></li>
            
	        
	            
    <li class="toctree-l1 ">
        <a class="" href="../../download/">Download</a>
        
    </li>

	        
	    
	        
	            
    <li class="toctree-l1 ">
        <a class="" href="../../install/">How to use</a>
        
    </li>

	        
	    
        </ul>
    
<li>
          
            <li>
    
        <ul class="subnav">
	    <li><span>Developer Documentation</span></li>
            
	        
	            
    <li class="toctree-l1 current">
        <a class="current" href="./">Developer's Guide</a>
        
            <ul>
            
                
                    <li><a class="toctree-l4" href="#exploring-the-code">Exploring the Code</a></li>
                
                    <li><a class="toctree-l4" href="#getting-the-code">Getting the code</a></li>
                
                    <li><a class="toctree-l4" href="#technologies-frameworks">Technologies &amp; frameworks</a></li>
                
                    <li><a class="toctree-l4" href="#building-from-source">Building from Source</a></li>
                
            
            </ul>
        
    </li>

	        
	    
	        
	            
    <li class="toctree-l1 ">
        <a class="" href="../architecture/">Architecture</a>
        
    </li>

	        
	    
	        
	            
    <li class="toctree-l1 ">
        <a class="" href="../technical/">Technical</a>
        
    </li>

	        
	    
	        
	            
    <li class="toctree-l1 ">
        <a class="" href="../jsdoc/">JSdoc</a>
        
    </li>

	        
	    
        </ul>
    
<li>
          
            <li>
    
        <ul class="subnav">
	    <li><span>Tutorials</span></li>
            
	        
	            
    <li class="toctree-l1 ">
        <a class="" href="../../tutos/osh-by-example/">OSH by example</a>
        
    </li>

	        
	    
	        
	            
    <li class="toctree-l1 ">
        <a class="" href="../../tutos/osh-by-example-2/">Make your own data receiver</a>
        
    </li>

	        
	    
	        
	            
    <li class="toctree-l1 ">
        <a class="" href="../../tutos/osh-by-example-3/">Use the discovery view</a>
        
    </li>

	        
	    
        </ul>
    
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../license/">License</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">OpenSensorHub Toolkit</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Developer Documentation &raquo;</li>
        
      
    
    <li>Developer's Guide</li>
    <li class="wy-breadcrumbs-aside">
      <!--
        
          <a href="https://github.com/opensensorhub/" class="icon icon-github"> Edit on GitHub</a>
        
      -->
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="developers-guide">Developer's Guide</h1>
<p>This guide is meant to help you setup a development environment so that you can extend OpenSensorHub (OSH for short) 
with your own datasources, views or modules.</p>
<p>Don't forget to send us a Pull Request if you want to contribute to this project with your work. Other users may be interested in your modules and bug fixes!</p>
<p>Of course, contributing new modules to the community is optional as our license does not prevent proprietary and commercial derived work. However, keep in mind that <strong>if you modify the source files we provide, you must make it available publicly in source form</strong>. </p>
<p>This page provides instructions for three possible options, depending on your level of involvement:</p>
<ul>
<li>
<p><a href="#exploring-the-code">Exploring the code online</a></p>
</li>
<li>
<p><a href="#getting-the-code">Getting the code</a> using Git</p>
</li>
<li>
<p><a href="#npm-bower-gulp">Build using NPM, bower and Gulp</a></p>
</li>
<li>
<p><a href="#contributing">Contributing</a> new features and bug fixes to the project</p>
</li>
</ul>
<h3 id="exploring-the-code">Exploring the Code</h3>
<p>If you just want to explore the code, you can browse the source online directly on 
<a href="https://github.com/opensensorhub/osh-js">Github OSH Toolkit</a>. Alternatively, you can download it to your computer using the <strong>Download ZIP</strong> link on each GitHub repository or using the <code>git</code> program (see next section).
It is part of the global <a href="https://github.com/opensensorhub">OSH</a> project.</p>
<h3 id="getting-the-code">Getting the code</h3>
<p>The <code>git</code> command is used to download the code from the Github repositories. For example, you can download the code for the core modules using the following command:</p>
<pre><code class="bash">$ git clone --recursive https://github.com/opensensorhub/osh-js.git
</code></pre>

<h3 id="technologies-frameworks">Technologies &amp; frameworks</h3>
<p>The Toolkit is pure Javascript and uses CSS3 for styling. Some external extra libraries add extra functionnalities:</p>
<ul>
<li>
<p>Cesium: pure js 3D globe</p>
</li>
<li>
<p>x2js: convert XML into JSON</p>
</li>
<li>
<p>nouislider: time slider bar</p>
</li>
<li>
<p>NVD3: re-usable chart for d3.js</p>
</li>
<li>
<p>OpenLayer</p>
</li>
<li>
<p>Leaflet</p>
</li>
<li>
<p>Custom javascript tree</p>
</li>
<li>
<p>Ffmpeg: portage of the Ffmpeg C++ library into JS (emscripten) to decode H264 frames</p>
</li>
</ul>
<h3 id="building-from-source">Building from Source</h3>
<h4 id="pre-requisites">Pre-requisites</h4>
<p>The building uses NPM, Bower and Gulp. Be sure you have installed them before continuing.</p>
<ul>
<li>
<p>NPM: This is a package manager for Javascript <a href="https://www.npmjs.com/get-npm">Get NPM</a></p>
</li>
<li>
<p>Bower: A package manager for the web <a href="https://bower.io/#install-bower">Get Bower</a> </p>
</li>
<li>
<p>Gulp: It's a build system allowing to automate tasks <a href="http://gulpjs.com/">Get Gulp</a></p>
</li>
<li>
<p>JsDoc: Tool to build documentation <a href="http://usejsdoc.org/">Get JsDoc</a></p>
</li>
</ul>
<h4 id="build">Build</h4>
<p>Install plugins dependencies using NPM:
<code>Toolkit $ npm install</code></p>
<p>Install vendor dependencies using bower:
<code>Toolkit $ bower install</code></p>
<p>Display Gulp help:</p>
<pre><code>Tookit $ gulp help
Usage
  gulp [TASK] [OPTIONS...]

Available tasks
  build           build a distributable osh-js instance 
   --cesium       An open-source JavaScript library for world-class 3D globes and maps: https://cesiumjs.org/

   --ffmpeg       Include FFMPEG library. This library provides FFmpeg builds ported to JavaScript using Emscripten project. Builds are optimized for in-browser use: minimal size for 
faster loading, asm.js, performance tunings, etc. This is a fork from Kagami/ffmpeg.js: https://github.com/sensiasoft/ffmpeg.js

   --x2js       Include x2js library. This is used to map XML data into JSON object

   --leaflet      An open-source JavaScript library for mobile-friendly interactive maps: http://leafletjs.com/

   --nouislider   This library is responsible for displaying the RangeSlider bar.It is lightweight JavaScript range slider, originally developed to be a jQuery UI alternative: 
https://github.com/leongersen/noUiSlider

   --nvd3         Include NVD3 library: http://nvd3.org/

   --ol3          OpenLayer 3 makes it easy to put a dynamic map in any web page. It can display map tiles, vector data and markers loaded from any source: https://openlayers.org/

   --tree         This library is responsible for displaying the Entity Tree View. It is a pure Javascript TreeView Component: https://github.com/rafaelthca/aimaraJS

  clean           Clean the dist directory

  help            Display this help text.
</code></pre>

<p>Build a full version using gulp:
<code>Toolkit $ gulp build</code></p>
<p>As described in the gulp help command, you can also include some libraries:</p>
<p><code>Toolkit $ gulp build --ffmpeg --leaflet</code></p>
<p>A dist directory will be created containing the new files, for this example:</p>
<pre><code class="bash">dist/
├── css
│   ├── font-awesome-4.6.3
.   .
.   .    ...
│   ├── osh-debug.css
│   └── osh.min.css
├── images
.   .
.   .   ...
├── js
│   ├── osh-debug.js
│   ├── osh.min.js
│   └── workers
│       ├── ffmpeg-h264.js
│       └── osh-UI-FFMPEGViewWorker.js
└── vendor
    ├── fullscreen@2x.png
    ├── fullscreen.png
    ├── images
    │   ├── layers-2x.png
    │   ├── layers.png
    │   ├── marker-icon-2x.png
    │   ├── marker-icon.png
    │   ├── marker-shadow.png
    │   ├── spritesheet-2x.png
    │   ├── spritesheet.png
    │   └── spritesheet.svg
    ├── vendor-debug.css
    ├── vendor-debug.js
    ├── vendor.min.css
    └── vendor.min.js
</code></pre>

<p>The result is a set of files that you can load to use the Toolkit. An <em>osh-debug</em> and <em>osh.min" files are produced to get a minified or debug version of the toolkit as well as the 
stylesheet files.
ALl the vendor files are produced into the </em>dist/vendor<em> directory. Like the </em>osh* files, there are a debug and minified version. All the directories located into the vendor folder 
are relative to the javascript/stylesheet files. Keep this structure as it is produced to get a working version of the vendor file.</p>
<p>The <em>js</em> directory contains:</p>
<ul>
<li>osh-debug.js: the debug version of the Toolkit</li>
<li>osh.min.js: the minified version of the Toolkit</li>
<li>workers directory: the workers directory. To use workers, you have to set the workers directory structure as: "BASE_PROJECT_ROOT"/js/workers. Otherwise the workers could not be used. </li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../architecture/" class="btn btn-neutral float-right" title="Architecture"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../../install/" class="btn btn-neutral" title="How to use"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>The content of this site is licensed under a Creative Commons Zero v1.0 Universal License</p>
    
  </div>

</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/opensensorhub/" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../../install/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../architecture/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>